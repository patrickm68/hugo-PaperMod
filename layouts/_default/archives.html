{{ define "main" }}

<div class="archive">
  <h1 class="archive-title">{{ .Title }}</h1>

  {{ range .Site.RegularPages.GroupByPublishDate "2006" }}
  {{ if ne .Key "0001" }}
  <div class="archive-year">
    <h2 class="archive-year-header">{{ replace .Key "0001" "" }}</h2>
    {{ range .Pages.GroupByDate "January" }}
    <div class="archive-month">
      <h3 class="archive-month-header">{{ .Key }}</h3>
      <div class="archive-posts">
        {{ range .Pages  }}
        {{ if eq .Kind "page" }}
        <div class="archive-entry">
          <h3 class="archive-entry-title">
            {{ .Title | markdownify }}
          </h3>
          <div class="archive-meta">
            {{- if or .Params.author .Site.Params.author }}{{- .Params.author | default .Site.Params.author }} ·
            {{ end }}
            {{ if $.Site.Params.ShowReadingTime }}{{ .ReadingTime }}{{ $.Site.Params.MinuteReadingTime | default "min read" }}
            · {{ end }}
            {{- .Date.Format "January 2, 2006" -}}
          </div>
          <a class="entry-link" href="{{ .Permalink }}"></a>
        </div>
        {{ end }}
        {{ end }}
      </div>
    </div>
    {{ end }}
  </div>
  {{ end }}
  {{ end }}
</div>
{{ end  }}{{/* end main */}}